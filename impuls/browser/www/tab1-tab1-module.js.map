{"version":3,"sources":["webpack:///./src/app/tab1/tab1.module.ts","webpack:///./src/app/tab1/tab1.page.html","webpack:///./src/app/tab1/tab1.page.scss","webpack:///./src/app/tab1/tab1.page.ts"],"names":[],"mappings":"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","file":"tab1-tab1-module.js","sourcesContent":["/*******************************************************************************\n * Copyright (c) 2019. All rights reserved.\n * Henry S. Sjøen aka. Kodekameraten.\n * For business inquiries: henry@kodekameraten.no\n ******************************************************************************/\n\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab1Page } from './tab1.page';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: Tab1Page }])\n  ],\n  declarations: [Tab1Page],\n})\nexport class Tab1PageModule { }\n","module.exports = \"<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\\n  ~ Copyright (c) 2019. All rights reserved.\\n  ~ Henry S. Sjøen aka. Kodekameraten.\\n  ~ For business inquiries: henry@kodekameraten.no\\n  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->\\n\\n<!--<ion-header class=\\\"hidden\\\" padding>-->\\n<!--</ion-header>-->\\n\\n<ion-content>\\n    <ion-card (click)=\\\"showContentModal(post)\\\" *ngFor=\\\"let post of posts | async\\\" class=welcome-card tappable>\\n        <ion-img *ngIf=\\\"post.img\\\" src={{post.img}}></ion-img>\\n        <ion-card-header>\\n            <ion-card-title>{{post.title}}</ion-card-title>\\n            <ion-card-subtitle\\n                    *ngIf=\\\"post.datetime\\\">{{ post.datetime.toDate() | date:'EEEE d.M.yy, HH:mm'}}</ion-card-subtitle>\\n            <ion-card-subtitle *ngIf=\\\"post.startTime\\\">\\n                {{ post.startTime.toDate() | date:'EEEE d.M.yy, HH:mm'}}\\n                <span *ngIf=\\\"post.endTime\\\">\\n          -> {{ post.endTime.toDate() | date:'EEEE d.M.yy, HH:mm'}}\\n        </span>\\n            </ion-card-subtitle>\\n        </ion-card-header>\\n        <ion-card-content>\\n            <p [innerHTML]=\\\"post.content\\\"></p>\\n            <br>\\n            <ion-buttons>\\n                <ion-button *ngIf=\\\"post.number\\\">\\n                    <ion-icon class=\\\"hints\\\" name=\\\"call\\\" slot=\\\"icon-only\\\"></ion-icon>\\n                </ion-button>\\n                <ion-button *ngIf=\\\"post.url\\\">\\n                    <ion-icon class=\\\"hints\\\" name=\\\"globe\\\"></ion-icon>\\n                </ion-button>\\n            </ion-buttons>\\n        </ion-card-content>\\n    </ion-card>\\n    <ion-fab horizontal=\\\"end\\\" slot=\\\"fixed\\\" vertical=\\\"bottom\\\">\\n        <ion-fab-button (click)=\\\"createNewPush()\\\" tappable>\\n            <ion-icon name=\\\"add\\\"></ion-icon>\\n        </ion-fab-button>\\n        <ion-fab-button (click)=\\\"goToUserPage()\\\" tappable>\\n            <ion-icon name=\\\"person\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n</ion-content>\"","module.exports = \"@charset \\\"UTF-8\\\";\\n/*!******************************************************************************\\n * Copyright (c) 2019. All rights reserved.\\n * Henry S. Sjøen aka. Kodekameraten.\\n * For business inquiries: henry@kodekameraten.no\\n ******************************************************************************/\\n.welcome-card ion-img {\\n  max-height: 200px;\\n  overflow: hidden; }\\n.welcome-card {\\n  transition: all 220ms ease-in-out; }\\n.welcome-card:hover {\\n  -webkit-transform: scale(0.99, 0.99);\\n          transform: scale(0.99, 0.99); }\\n.hints {\\n  color: gray; }\\n.welcome-card ion-card-content p {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMS90YWIxLnBhZ2Uuc2NzcyIsIi9Vc2Vycy9oZW5yeS9naXQvaW1wdWxzLWFkbWluL3NyYy9hcHAvdGFiMS90YWIxLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUI7QUNBakI7Ozs7Z0ZBSWdGO0FBRWhGO0VBQ0Usa0JBQWlCO0VBQ2pCLGlCQUFnQixFQUNqQjtBQUVEO0VBQ0Usa0NBQWlDLEVBRWxDO0FBRUQ7RUFDRSxxQ0FBNEI7VUFBNUIsNkJBQTRCLEVBQzdCO0FBRUQ7RUFDRSxZQUFXLEVBQ1o7QUFFRDtFQUNFLG9CQUFtQjtFQUNuQixpQkFBZ0I7RUFDaEIsd0JBQXVCLEVBQ3hCIiwiZmlsZSI6InNyYy9hcHAvdGFiMS90YWIxLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBjaGFyc2V0IFwiVVRGLThcIjtcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IChjKSAyMDE5LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogSGVucnkgUy4gU2rDuGVuIGFrYS4gS29kZWthbWVyYXRlbi5cbiAqIEZvciBidXNpbmVzcyBpbnF1aXJpZXM6IGhlbnJ5QGtvZGVrYW1lcmF0ZW4ubm9cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4ud2VsY29tZS1jYXJkIGlvbi1pbWcge1xuICBtYXgtaGVpZ2h0OiAyMDBweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjsgfVxuXG4ud2VsY29tZS1jYXJkIHtcbiAgdHJhbnNpdGlvbjogYWxsIDIyMG1zIGVhc2UtaW4tb3V0OyB9XG5cbi53ZWxjb21lLWNhcmQ6aG92ZXIge1xuICB0cmFuc2Zvcm06IHNjYWxlKDAuOTksIDAuOTkpOyB9XG5cbi5oaW50cyB7XG4gIGNvbG9yOiBncmF5OyB9XG5cbi53ZWxjb21lLWNhcmQgaW9uLWNhcmQtY29udGVudCBwIHtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IH1cbiIsIi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IChjKSAyMDE5LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogSGVucnkgUy4gU2rDuGVuIGFrYS4gS29kZWthbWVyYXRlbi5cbiAqIEZvciBidXNpbmVzcyBpbnF1aXJpZXM6IGhlbnJ5QGtvZGVrYW1lcmF0ZW4ubm9cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi53ZWxjb21lLWNhcmQgaW9uLWltZyB7XG4gIG1heC1oZWlnaHQ6IDIwMHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4ud2VsY29tZS1jYXJkIHtcbiAgdHJhbnNpdGlvbjogYWxsIDIyMG1zIGVhc2UtaW4tb3V0O1xuICAvLyBtYXgtaGVpZ2h0OiA0MDBweDtcbn1cblxuLndlbGNvbWUtY2FyZDpob3ZlciB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMC45OSwgMC45OSk7XG59XG5cbi5oaW50cyB7XG4gIGNvbG9yOiBncmF5O1xufVxuXG4ud2VsY29tZS1jYXJkIGlvbi1jYXJkLWNvbnRlbnQgcHtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsgXG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xufSJdfQ== */\"","/*******************************************************************************\n * Copyright (c) 2019. All rights reserved.\n * Henry S. Sjøen aka. Kodekameraten.\n * For business inquiries: henry@kodekameraten.no\n ******************************************************************************/\n\nimport {Component} from '@angular/core';\nimport {HelpersService} from '../helpers.service';\nimport {AngularFirestore, AngularFirestoreCollection} from '@angular/fire/firestore';\nimport {Storage} from \"@ionic/storage\";\nimport {ContentComponent} from \"../content/content.component\";\nimport {ModalController} from \"@ionic/angular\";\nimport {Router} from \"@angular/router\";\n\n@Component({\n    selector: 'app-tab1',\n    templateUrl: 'tab1.page.html',\n    styleUrls: ['tab1.page.scss'],\n})\nexport class Tab1Page {\n    posts: any;\n    path: string;\n    private itemsCollection: AngularFirestoreCollection;\n\n    constructor(\n        private helper: HelpersService,\n        private db: AngularFirestore,\n        private storage: Storage,\n        private modalCtrl: ModalController,\n        public router: Router) {\n        this.ionViewWillEnter();\n    }\n\n    ionViewWillEnter() {\n        this.storage.get('domainPath').then(path => {\n            //Quick-fix: For bug when starting up for the first time.\n            if (path == null) {\n                this.ionViewWillEnter();\n                return;\n            }\n            //Make sure that the tab is updated with correct domain,\n            // but only refresh content if domain has changed.\n            if (this.path !== path) {\n                this.path = path;\n                this.itemsCollection = this.posts = this.db.collection(path + 'news', ref => ref.orderBy('startTime'));\n                this.posts = this.itemsCollection.valueChanges();\n                this.path = path;\n            }\n        });\n    }\n\n    async showContentModal(data: object) {\n        console.log(data);\n        // const oldData: any = {...data};\n        const modal = await this.modalCtrl.create(\n            {\n                component: ContentComponent,\n                componentProps: {\n                    data: {...data}\n                }\n            }\n        );\n        await modal.present();\n        modal.onDidDismiss().then((e) => {\n            if (e.data) {\n                console.log(\"WE NEED TO UPDATE! 🤯\", e.data);\n                //TODO: Do the update procedure! Yes sir!👮‍\n                //Something like...\n                // this.itemsCollection.doc(this.path + 'news/'+documentID).update(e.data)\n            this.updateItem(e.data);\n            }\n        });\n    }\n\n    async createNewPush() {\n        const modal = await this.modalCtrl.create(\n            {\n                component: ContentComponent,\n                componentProps: {\n                    // data: {newThing: true}\n                }\n            }\n        );\n        await modal.present();\n        modal.onDidDismiss().then((e) => {\n            if (e.data) {\n                console.log(\"SEND THIS TO THE SERVER!\", e.data);\n                this.addItem(e.data);\n            }\n        });\n    }\n\n    goToUserPage() {\n        this.router.navigate(['user'])\n    }\n\n    private addItem(item: object) {\n        this.itemsCollection.add(item);\n    }\n\n    private updateItem(item: object) {\n        // this.itemsCollection.snapshotChanges().doc(item.id).update(item)\n        // console.log(item);\n    }\n}\n"],"sourceRoot":""}