{"version":3,"sources":["../../src/pages/settings/settings.module.ts","../../src/pages/settings/settings.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAuC;AACO;AACN;AAUxC,IAAa,cAAc;IAA3B;IACA,CAAC;IAAD,qBAAC;AAAD,CAAC;AADY,cAAc;IAR1B,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,+DAAY;SACb;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,+DAAY,CAAC;SACvC;KACF,CAAC;GACW,cAAc,CAC1B;AAD0B;;;;;;;;;;;;;;;;;;;;;;;;ACZa;AACwD;AAE1B;AACN;AACzB;AAOvC,IAAa,YAAY;IAUvB,sBACU,OAAsB,EACtB,QAAwB,EACxB,GAAsB,EACtB,eAAgC,EAChC,OAAgB,EAChB,QAAyB,EACzB,WAA4B,EAC5B,SAA0B;QARpC,iBAuBC;QAtBS,YAAO,GAAP,OAAO,CAAe;QACtB,aAAQ,GAAR,QAAQ,CAAgB;QACxB,QAAG,GAAH,GAAG,CAAmB;QACtB,oBAAe,GAAf,eAAe,CAAiB;QAChC,YAAO,GAAP,OAAO,CAAS;QAChB,aAAQ,GAAR,QAAQ,CAAiB;QACzB,gBAAW,GAAX,WAAW,CAAiB;QAC5B,cAAS,GAAT,SAAS,CAAiB;QAfpC,SAAI,GAAG,EAAU,CAAC;QAiBhB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;QAC/B,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,mBAAmB,CAAC,YAAY,CAAC,CAAC;QACxD,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;QACpD,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC;QACtD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,eAAK;YACzC,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC5B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,eAAK;YAC1C,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC7B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,eAAK;YAC1C,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC7B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,4BAAK,GAAL;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IAED,4BAAK,GAAL;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACjC,CAAC;IAED,wCAAiB,GAAjB;QAAA,iBAIC;QAHC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC;YACtB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mCAAY,GAAZ;QAAA,iBAIC;QAHC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC;YACtB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAgB,GAAhB;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACjC,CAAC;IAED,2CAAoB,GAApB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,KAAK,IAAI,CAAC;YAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;QAAC,IAAI,CAAC,CAAC;YAC5E,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QAC1C,CAAC;IACH,CAAC;IAED,0CAAmB,GAAnB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,KAAK,IAAI,CAAC;YAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QAAC,IAAI,CAAC,CAAC;YAC9E,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;QAC3C,CAAC;IACH,CAAC;IAED,wCAAiB,GAAjB;QAAA,iBAmCC;QAlCC,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAClC,KAAK,EAAE,iBAAiB;YACxB,OAAO,EAAE,oDAAoD;YAC7D,MAAM,EAAE;gBACN;oBACE,IAAI,EAAE,SAAS;oBACf,WAAW,EAAE,SAAS;oBACtB,IAAI,EAAE,UAAU;iBACjB;aACF;YACD,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACP,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;wBACzB,MAAM,CAAC;oBACT,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,UAAU;oBAChB,OAAO,EAAE,UAAC,IAAI;wBACZ,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,iBAAiB,CAAC,CAAC,CAAC;4BACvC,KAAI,CAAC,iBAAiB,EAAE,CAAC;4BACzB,KAAI,CAAC,SAAS,CAAC,SAAS,EAAE,iCAAiC,CAAC,CAAC;wBAC/D,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACN,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;4BACzB,KAAI,CAAC,SAAS,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;wBACrC,CAAC;wBACD,MAAM,CAAC;oBACT,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,wCAAiB,GAAjB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,IAAI,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;YACtC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QACnC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;YACvC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QACtC,CAAC;IACH,CAAC;IAED,gCAAS,GAAT;QAAA,iBAaC;QAZC,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,qBAAW;YACxC,IAAM,MAAM,GAAG;gBACb,WAAW,EAAE,KAAG,WAAa;aAC9B,CAAC;YACF,IAAM,KAAK,GAAG,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,mBAAmB,EAAE,EAAC,MAAM,UAAC,CAAC,CAAC;YAClE,KAAK,CAAC,YAAY,CAAC,mBAAS;gBAC1B,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;oBACd,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBACzC,CAAC;YACH,CAAC,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gCAAS,GAAT;QAAA,iBAEC;QADC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,cAAM,YAAI,CAAC,SAAS,CAAC,MAAM,EAAE,gCAAgC,CAAC,EAAxD,CAAwD,CAAC,CAAC;IAC1G,CAAC;IAED,kCAAW,GAAX,UAAY,KAAa;QACvB,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC3B,CAAC;IAED,sCAAe,GAAf,UAAgB,KAAa;QAC3B,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,gCAAS,GAAT;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;QAC/B,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;QACnC,CAAC;IACH,CAAC;IAED,kCAAW,GAAX;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,IAAI,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QACjC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;QACrC,CAAC;IACH,CAAC;IAED,kCAAW,GAAX;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAChC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;QACpC,CAAC;IACH,CAAC;IAEO,gCAAS,GAAjB,UAAkB,KAAK,EAAE,OAAO;QAC9B,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAClC,KAAK,EAAE,KAAK;YACZ,OAAO,EAAE,OAAO;YAChB,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACP,MAAM,CAAC;oBACT,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,wCAAwC;QACxC,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,wCAAiB,GAAjB;QAAA,iBA2BC;QA1BC,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAClC,KAAK,EAAE,qBAAqB;YAC5B,MAAM,EAAE;gBACN;oBACE,IAAI,EAAE,WAAW;oBACjB,WAAW,EAAE,WAAW;iBACzB;aACF;YACD,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,cAAc;oBACpB,OAAO,EAAE,UAAC,IAAI;wBACZ,KAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACrC,MAAM,CAAC;oBACT,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,WAAW;oBACjB,OAAO,EAAE,UAAC,IAAI;wBACZ,KAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAClC,MAAM,CAAC;oBACT,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAEH,mBAAC;AAAD,CAAC;AAvNY,YAAY;IAJxB,wEAAS,CAAC;QACT,QAAQ,EAAE,eAAe;OACG;KAC7B,CAAC;8EAYgC;QACZ,yFAAc;QACnB,oFAAiB;QACL,gEAAe;QACvB,sEAAO;QACN,mFAAe;QACZ,sEAAe;QACjB,SAAe;AAqMrC;SAvNY,YAAY,e","file":"10.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {SettingsPage} from './settings';\n\n@NgModule({\n  declarations: [\n    SettingsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SettingsPage),\n  ],\n})\nexport class UserPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.module.ts","import {Component} from '@angular/core';\nimport {AlertController, IonicPage, ModalController, NavController, ViewController} from 'ionic-angular';\nimport {User} from '../../models/user';\nimport {AppConfigProvider} from '../../providers/appconfig/appconfig';\nimport {ContentProvider} from '../../providers/content/content';\nimport {Storage} from '@ionic/storage';\n\n@IonicPage()\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html',\n})\nexport class SettingsPage {\n\n  medarbeider: boolean;\n  user = {} as User;\n  datetimeLast: boolean;\n  hideCountdown: any;\n  private KidsCamp: boolean;\n  private VoksenCamp: boolean;\n  private YouthCamp: boolean;\n\n  constructor(\n    private navCtrl: NavController,\n    private viewCtrl: ViewController,\n    private acp: AppConfigProvider,\n    private contentProvider: ContentProvider,\n    private storage: Storage,\n    private modalCtr: ModalController,\n    private cntProvider: ContentProvider,\n    private alertCtrl: AlertController\n  ) {\n    this.user = this.acp.getUser();\n    this.VoksenCamp = acp.isSubscribedToTrack('VoksenCamp');\n    this.KidsCamp = acp.isSubscribedToTrack('KidsCamp');\n    this.YouthCamp = acp.isSubscribedToTrack('YouthCamp');\n    this.storage.get('datetimeLast').then(value => {\n      this.datetimeLast = value;\n    });\n    this.storage.get('hideCountdown').then(value => {\n      this.hideCountdown = value;\n    });\n    this.storage.get('hideCountdown').then(value => {\n      this.hideCountdown = value;\n    });\n  }\n\n  close(): void {\n    this.viewCtrl.dismiss();\n  }\n\n  login() {\n    this.navCtrl.push('LoginPage');\n  }\n\n  changeArrangement() {\n    this.navCtrl.pop().then(() => {\n      this.navCtrl.push('HomePage');\n    });\n  }\n\n  showTutorial() {\n    this.navCtrl.pop().then(() => {\n      this.navCtrl.push('TutorialPage');\n    });\n  }\n\n  showAboutThisApp() {\n    this.navCtrl.push('AboutPage');\n  }\n\n  toggleDateBeforeInfo() {\n    if (this.datetimeLast === true) this.storage.set('datetimeLast', true); else {\n      this.storage.set('datetimeLast', false);\n    }\n  }\n\n  toggleHideCountdown() {\n    if (this.hideCountdown === true) this.storage.set('hideCountdown', true); else {\n      this.storage.set('hideCountdown', false);\n    }\n  }\n\n  toggleMedarbeider() {\n    const alert = this.alertCtrl.create({\n      title: 'Medarbeiderinfo',\n      message: 'For å sla på medarbeiderinfo må du vite passordet.',\n      inputs: [\n        {\n          name: 'passord',\n          placeholder: 'passord',\n          type: 'password',\n        }\n      ],\n      buttons: [\n        {\n          text: 'Avbryt',\n          handler: () => {\n            this.medarbeider = false;\n            return;\n          }\n        },\n        {\n          text: 'Logg inn',\n          handler: (data) => {\n            if (data.passord === 'Medarbeider2018') {\n              this.enableMedarbeider();\n              this.showAlert('Suksess', 'Medarbeiderinfo er nå slått på.');\n            } else {\n              this.medarbeider = false;\n              this.showAlert('Feil passord', '');\n            }\n            return;\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  enableMedarbeider() {\n    if (this.medarbeider === true) {\n      this.storage.set('medarbeider', true);\n      this.acp.addTrack('Medarbeider');\n    } else {\n      this.storage.set('medarbeider', false);\n      this.acp.removeTrack('Medarbeider');\n    }\n  }\n\n  newPerson() {\n    this.acp.getArrangement().then(arrangement => {\n      const person = {\n        arrangement: `${arrangement}`,\n      };\n      const modal = this.modalCtr.create('PersonCreatorPage', {person});\n      modal.onDidDismiss(freshData => {\n        if (freshData) {\n          this.cntProvider.postPerson(freshData);\n        }\n      });\n      modal.present();\n    });\n  }\n\n  BatchEdit() {\n    this.navCtrl.push('BatchEditPage').then(() => this.showAlert('Done', 'Finished edit/importing events'));\n  }\n\n  subscribeTo(topic: string) {\n    this.acp.addTrack(topic);\n  }\n\n  unsubscribeFrom(topic: string) {\n    this.acp.removeTrack(topic);\n  }\n\n  toggleKid() {\n    if (this.KidsCamp === true) {\n      this.subscribeTo('KidsCamp');\n    } else {\n      this.unsubscribeFrom('KidsCamp');\n    }\n  }\n\n  toggleAdult() {\n    if (this.VoksenCamp === true) {\n      this.subscribeTo('VoksenCamp');\n    } else {\n      this.unsubscribeFrom('VoksenCamp');\n    }\n  }\n\n  toggleYouth() {\n    if (this.YouthCamp === true) {\n      this.subscribeTo('YouthCamp');\n    } else {\n      this.unsubscribeFrom('YouthCamp');\n    }\n  }\n\n  private showAlert(title, message) {\n    const alert = this.alertCtrl.create({\n      title: title,\n      message: message,\n      buttons: [\n        {\n          text: 'Ok',\n          handler: () => {\n            return;\n          }\n        }\n      ]\n    });\n    // noinspection JSIgnoredPromiseFromCall\n    alert.present();\n  }\n\n  subscribeToDialog() {\n    const alert = this.alertCtrl.create({\n      title: 'Add or remove track',\n      inputs: [\n        {\n          name: 'trackName',\n          placeholder: 'TrackName',\n        }\n      ],\n      buttons: [\n        {\n          text: 'Remove track',\n          handler: (data) => {\n            this.acp.removeTrack(data.trackName);\n            return;\n          }\n        },\n        {\n          text: 'Add track',\n          handler: (data) => {\n            this.acp.addTrack(data.trackName);\n            return;\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts"],"sourceRoot":""}